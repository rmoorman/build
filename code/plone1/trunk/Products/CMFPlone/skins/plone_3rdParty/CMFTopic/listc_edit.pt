<div class="row"
     metal:define-macro="listc_edit"
     tal:define="criterionid criterion/getId | here/getId;"
           i18n:domain="plone">

    <div class="label">
        <input class="noborder"
               type="checkbox" 
               value="" 
               name="criterion_ids:list" 
               id=""
               tal:attributes="value criterionid; 
                               id string:cb_${criterionid}" />
        
        <label for="" tal:attributes="for string:cb_${criterionid}">
            <span tal:content="criterion/Field | here/Field">Field</span> <br />
        </label>
        
        <div id="" 
             i18n:translate=""
             class="help" 
             style="visibility:hidden"
             tal:content="criterion/Description | here/Description"
             tal:attributes="id string:${criterionid}_help;"
             >
        List
        </div>

        <input type="hidden" 
               name="criteria.id:records" 
               value=""
               tal:attributes="value criterionid" />
        
    </div>
    
    <div class="field">        

        <select name="criteria.operator:records"
                tal:define="coperator criterion/operator | here/operator;"
                tal:attributes="onfocus string:formtooltip('${criterionid}_help',1);
                                onblur  string:formtooltip('${criterionid}_help',0);
                                tabindex tabindex/next|nothing;"
        >
            <option value="or"
                    tal:attributes="selected python:coperator == 'or'">matches one of the following</option>
            <option value="and" 
                    tal:attributes="selected python:coperator == 'and'">matches all of the following</option>
        </select>
        
        <br />

        <textarea name="criteria.value:lines:records" 
                  rows="5" 
                  cols="40"
                  tal:define="cvalue criterion/value | here/value;"
                  tal:content="python:modules['string'].join(cvalue, '\n')"
                  tal:attributes="onfocus string:formtooltip('${criterionid}_help',1);
                                  onblur  string:formtooltip('${criterionid}_help',0);
                                  tabindex tabindex/next|nothing;"
        ></textarea>
        
    
    </div>
    
</div>

