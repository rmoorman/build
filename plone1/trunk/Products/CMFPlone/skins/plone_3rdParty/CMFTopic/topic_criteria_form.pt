<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    metal:use-macro="container/main_template/macros/master"
    i18n:domain="plone">

<body>

<div metal:fill-slot="main">

<h1> 
    <span i18n:translate="heading_criteria_for" tal:omit-tag="">
        Criteria for
        <span i18n:name="title" tal:content="here/getId" tal:omit-tag="" /> 
    </span>
</h1>

<form class="group" 
      action="" 
      method="post" 
      tal:attributes="action here/absolute_url"
      tal:condition="here/listCriteria">

    <span class="legend" i18n:translate="legend_criteria_details">Criteria Details</span>

    <metal:block tal:define="criteria here/listCriteria;">
        <metal:block tal:repeat="criterion criteria">
            <metal:block tal:define="editform string:criterion/${criterion/getEditForm}/macros/${criterion/getEditForm};">
                  <span metal:use-macro="python:path(editform)" />
            </metal:block>
        </metal:block>
    </metal:block>


    <div class="row">
    
        <div class="label">&nbsp;</div>
        
        <div class="field">
            <input class="context"
                   type="submit" 
                   name="topic_editCriteria:action"
                   value="Save"
                   tabindex=""
                   tal:attributes="tabindex tabindex/next;"
                   i18n:attributes="value"
                   />
            
            <input class="context"
                   type="submit" 
                   name="topic_deleteCriteria:action"
                   value="Remove"
                   tabindex=""
                   tal:attributes="tabindex tabindex/next;"
                   i18n:attributes="value"
                   />

            <input type="hidden" name=":default_action" value="editCriteria" />
        
        </div>

    </div>


</form>


<form action="" method="post" tal:attributes="action string:${here/absolute_url}/topic_addCriterion">

<h2 i18n:translate="heading_add_new_topic_criteria">Add New Topic Criteria</h2>

<span i18n:translate="label_criteria_field_name">
Field name
</span>

<select name="field"
        tabindex="" 
        tal:define="fields here/listAvailableFields;"
        tal:attributes="tabindex tabindex/next;">
            <option value="" tal:repeat="field fields" tal:attributes="value field" tal:content="field">Field</option>
        </select>

<span i18n:translate="label_criteria_type">
Criteria type
</span>

<select name="criterion_type" 
        tabindex=""
        tal:define="types here/listCriteriaTypes;"
        tal:attributes="tabindex tabindex/next;"
        >
    <option value="" tal:repeat="type types" tal:attributes="value type/name" tal:content="type/name">Type</option>
</select>

<input class="context" 
       type="submit" 
       value="Add"
       tabindex=""
       tal:attributes="tabindex tabindex/next;" 
       i18n:attributes="value"
       />

</form>

</div>

</body>
</html>
