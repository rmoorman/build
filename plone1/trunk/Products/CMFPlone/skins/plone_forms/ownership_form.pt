<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<div metal:fill-slot="main">
        
    <h1 i18n:translate="heading_change_ownership">Change ownership</h1>
    
    <p i18n:translate="description_change_ownership">
    You can change the current objects ownership to
    another member easily from this form.  
    </p>

    <form class="group"
          action="change_ownership"
          name="ownership_form" 
          method="post">
        
        <span class="legend" i18n:translate="legend_change_ownership">Change Ownership</span>

        <div class="row" >
            <div class="label required">
                <span i18n:translate="label_new_owner">New owner</span>
                <div id="id_help" 
                     i18n:translate="id_help"
                     class="help" 
                     style="visibility:hidden">
                Changes the ownership of the current object.
                </div>
            </div>
            <div class="field">
                <select name="userid"
                        onfocus="formtooltip('id_help',1)"
                        onblur="formtooltip('id_help',0)" >
                   <tal:block tal:repeat="uid here/portal_membership/listMemberIds">
                     <option value=""
                             tal:attributes="value uid;
                                             selected python:test(uid==here.Creator(), 'selected', None);"
                             tal:content="uid">username</option>
                   </tal:block>
                </select>
            </div>
        </div>
     
        <div class="row">
            <div class="label required">
                <span i18n:translate="label_subobjects">Subobjects</span>
                <div id="id_recurse"
                     i18n:translate="help_subobjects"
                     class="help"
                     style="visibility:hidden">
                Changes all the contained objects if selected.
                </div>
            </div>
            <div class="field">
                <input type="checkbox"
                       name="subobjects"
                       onfocus="formtooltip('id_recurse',1)"
                       onblur="formtooltip('id_recurse',0)" />
            </div>
        </div>
        
        <metal:block tal:replace="nothing">
        XXX Noah complained about Creator being Owner.  This should be fixed.  it causes nightmares when
            not persistenting the Creator info seperate from Owner().  If it ever gets fixed this will
            break.
        </metal:block>
        
        <div class="row">
            <div class="label">&nbsp;</div>
            <div class="field">
                <input class="context"
                       type="submit" 
                       name="save" 
                       value="Save"
                       i18n:attributes="value"
                       />
            </div>
        </div>
    </form>   

</div>

</html>
