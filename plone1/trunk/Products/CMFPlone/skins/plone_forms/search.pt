<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

  <metal:block fill-slot="base">
      <tal:block tal:define="dummy python:request.set('disable_border', 1)"
                 tal:replace="nothing">
      Disable the tabs
      </tal:block>
  </metal:block>

<div metal:fill-slot="main"
       tal:define="results python:here.queryCatalog();
                 Batch python:modules['Products.CMFPlone'].Batch;
                 DateTime python:modules['DateTime'].DateTime;
                 b_size python:30;b_start python:0;b_start request/b_start | b_start;">

    <h1 i18n:translate="heading_search_results">Search results</h1>

    <div tal:condition="results"
          tal:define="batch python:Batch(results, b_size, int(b_start), orphan=1);">

        <strong>
        <span i18n:translate="batch_x_items_matching_your_criteria"><span i18n:name="number" tal:content="python:len(results)">234</span> items matching your criteria.</span>
        </strong>

        <br/>

        <!-- Search results -->

        <table class="listing"
               id="sortable"
               tal:condition="here/contentValues">

            <thead>
                <tr>
                    <th>&nbsp;<span tal:omit-tag="" i18n:translate="listingheader_title">Title</span>&nbsp;</th>
                    <th>&nbsp;<span tal:omit-tag="" i18n:translate="listingheader_author">Author</span>&nbsp;</th>
                    <th>&nbsp;<span tal:omit-tag="" i18n:translate="listingheader_last_modified">Last Modified</span>&nbsp;</th>
                    <th>&nbsp;<span tal:omit-tag="" i18n:translate="listingheader_description">Description</span>&nbsp;</th>
                </tr>
            </thead>

            <tbody>
	        <metal:block tal:repeat="result batch">
                <tr class="even"
		            tal:define="oddrow repeat/result/odd;
                                result_url result/getURL;
                                url string:$result_url/view;"
		            tal:attributes="class python:test(oddrow, 'even', 'odd')" >
                    <td>
		         <a href="#"
                    tal:attributes="href url">
                    <img src="#"
                         height="16"
                         width="16"
                         alt=""
                         tal:on-error="structure python:path('here/linkOpaque.gif')"
                         tal:replace="structure python:path('here/%s' % result.getIcon)" /></a>&nbsp;<a
                    href="#" tal:attributes="href url"
                    tal:content="python:result.Title or result.getId" />
                    </td>
                    <td tal:content="result/Creator">Author </td>
                    <td tal:content="python:here.toPortalTime(result.ModificationDate, long_format=1)">Modification Date</td>
                    <td tal:content="result/Description"> Description </td>
                </tr>
		</metal:block>
            </tbody>
        </table>

        <!-- Navigation -->
        <div metal:use-macro="here/batch_macros/macros/navigation" />

    </div>

    <div tal:condition="not: results">
        <p><strong i18n:translate="description_no_results_found">No results were found.</strong></p>
    </div>

</div>


</html>

