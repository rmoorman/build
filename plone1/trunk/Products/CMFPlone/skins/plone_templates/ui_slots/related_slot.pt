<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      i18n:domain="plone">

<body>

<!-- The Related Items box -->

<div metal:define-macro="relatedBox"
     tal:define="localContent here/navigationLocalRelated;
                 remoteContent here/navigationRemoteResources;"
     tal:condition="python:test(localContent or remoteContent, 1, 0)" >

    <div class="box">

        <h5 i18n:translate="box_related">Related</h5>
    
        <div class="body">

            <div class="content odd" tal:condition="localContent" >        
                <strong i18n:translate="box_local_resources">Local resources</strong> 
                <br />
                
                <div tal:repeat="related localContent">
                        <a href="" 
                           tal:attributes="href string:${related/url}/view">
                           <img src="" 
                                border="0" 
                                tal:attributes="src string:$portal_url/${related/icon}; alt related/title" />
                                &nbsp;<span tal:replace="related/title">Object related by keyword</span>
                        </a>
                </div> 
            </div>
          
            <div class="content even" tal:condition="remoteContent">
                <strong i18n:translate="box_external_links">External links</strong>
                <div tal:repeat="o remoteContent">
                        <a href=""
                           tal:attributes="href python:o[1]" 
                           tal:content="python:o[0]">Link object in same folder</a>
                </div>
            </div>

        </div>

    </div>

</div>

</body>

</html>

