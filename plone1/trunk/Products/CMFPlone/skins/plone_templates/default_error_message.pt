<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<metal:block fill-slot="base"
             tal:define="global disable_border python:request.set('disable_border', 1)"
             tal:replace="nothing">
    Disable the green border for error messages
</metal:block>

<div metal:fill-slot="main"
     tal:define="global err_type options/error_type|nothing;
                 global err_message options/error_message|nothing;
                 global err_tb options/error_tb|nothing;
                 global err_value options/error_value|nothing;
                 global err_traceback options/error_traceback|nothing;">

        <div tal:condition="python:test(err_type=='NotFound', 1, 0)">
         
            <h1 i18n:translate="heading_site_error_apologies">Our apologies...</h1>

            <p i18n:translate="description_site_error_does_not_exist">
            The item you requested does not exist on this server or cannot be served.
            </p>
            
            <p i18n:translate="description_site_error_double_check_or_search">
            Please double check the web address or use the search function on this page to find what you are looking for.
            </p>
            
            <p i18n:translate="description_site_error_mail_admin">
            If you know you have the correct web address but are encountering an error, please 
            send a mail to the administrator of this site.
            </p>

            <a href="mailto:admin@here.com" title="Email Administrator"
               tal:attributes="href string:mailto:${here/portal_properties/site_properties/email_from_address}"
               tal:content="string:${here/portal_properties/site_properties/email_from_address}">
            Email Admin
            </a>.

            <p i18n:translate="description_site_error_thank_you">
            Thank you.
            </p>
            
            <code>
            404 Not Found
            </code>

        </div>
    
        <div tal:condition="python:test(err_type!='NotFound', 1, 0)">
        
        <h1 i18n:translate="heading_site_error">Site error</h1>
        
        <p i18n:translate="description_site_error">
        This site encountered an error trying to fulfill your request.
        The errors were:
        </p>
        
            <div class="group" >
                
                <span class="legend" i18n:translate="legend_error_details">Error Details</span>
                
                <div class="row">
                    <div class="label" i18n:translate="label_error_type">
                    Error Type
                    </div>
            
                    <div class="field" i18n:translate=""
                          tal:content="structure err_type">
                    The rendered error type                
                    </div>
                </div>        
            
                <div class="row" tal:condition="err_message">
                    <div class="label" i18n:translate="label_error_message">
                    Error Message
                    </div>
            
                    <div class="field" i18n:translate=""
                         tal:content="structure err_message|nothing">
                    The rendered error message
                    </div>
                </div>        
            
                <div class="row" tal:condition="python:test(err_value and (err_value != err_message), 1, 0)">
                    <div class="label" i18n:translate="label_error_value">
                    Error Value
                    </div>
            
                    <div class="field" i18n:translate=""
                         tal:content="structure err_value">
                    The rendered error value
                    </div>
                </div>        
                
            </div>
        
        </div>

</div>

</html>
